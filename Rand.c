////////////////////////////////////////////////////////////////////////////////
// Copyright(C) GreyGrolics 2004
//
// Filename: Rand.c
// Description: Pseudo Random Number Generator
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Includes and external references
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Defs
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Prototypes
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Variables
////////////////////////////////////////////////////////////////////////////////

unsigned int RandValue = 1;

////////////////////////////////////////////////////////////////////////////////
// Code
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//
//   Name:          RandSeed
//
//   Type:          Function
//
//   Description:   To set the seed for random number generation
//
//   Inputs:        seed - the seed
//
//   Outputs:       void
//
////////////////////////////////////////////////////////////////////////////////
void RandSeed (int seed)
{
    RandValue = seed;
}

////////////////////////////////////////////////////////////////////////////////
//
//   Name:          Rand
//
//   Type:          Function
//
//   Description:   To generate a random number
//
//   Inputs:        void
//
//   Outputs:       int - the random number
//
////////////////////////////////////////////////////////////////////////////////
int Rand(void)
{
    RandValue = RandValue * 1103515245 + 12345;
    return ((unsigned int)(RandValue / 65536) & (32768 -1));
}
